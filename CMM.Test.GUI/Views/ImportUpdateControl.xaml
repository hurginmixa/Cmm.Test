<UserControl x:Class="CMM.Test.GUI.Views.ImportUpdateControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:CMM.Test.GUI.Views"
             xmlns:viewModels="clr-namespace:CMM.Test.GUI.ViewModels"
             mc:Ignorable="d" 
             d:DesignHeight="550" d:DesignWidth="530"
             d:DataContext="{d:DesignInstance Type=viewModels:ImportUpdateViewModel}">

    <StackPanel Orientation="Vertical" Margin="10" Background="White">
        <!-- LotId -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
            <TextBlock Text="LotId" VerticalAlignment="Center" Margin="0,0,5,0" Width="50" FontWeight="Bold"/>
            <TextBox Text="{Binding LotId}" Width="200"/>
        </StackPanel>
        
        <!-- WaferId -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
            <TextBlock Text="WaferId" VerticalAlignment="Center" Margin="0,0,5,0" Width="50" FontWeight="Bold"/>
            <TextBox Text="{Binding WaferId}" Width="200"/>
        </StackPanel>

        <!-- DataIn Path -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
            <TextBlock Text="Data In" VerticalAlignment="Center" Margin="0,0,5,0" Width="50" FontWeight="Bold" />
            <TextBox Text="{Binding DataInPath}" Width="370" IsReadOnly="True" />
            <Button Content="Browse ..." Margin="5,0,0,0" Command="{Binding SelectDataInPathCommand}" Width="70" />
        </StackPanel>

        <!-- Mask & Sub Map -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
            <StackPanel Margin="0,0,20,0">
                <TextBlock Text="Mask"/>
                <TextBox Width="150" Text="{Binding WaferMapMask}" />
            </StackPanel>

            <StackPanel>
                <TextBlock Text="Sub Map"/>
                <TextBox Width="150" Text="{Binding SubmapId}" />
            </StackPanel>
        </StackPanel>

        <!-- Converter List -->
        <StackPanel Orientation="Vertical" Margin="0,0,0,10">
            <TextBlock Text="Selected Converter"/>
            <ListBox ItemsSource="{Binding ConverterList}" SelectedItem="{Binding SelectedConverter}" Height="80" Margin="0,0,0,5"/>
        </StackPanel>

        <!-- Import Kind -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
            <TextBlock Text="Import Kind" VerticalAlignment="Center" Margin="0,0,10,0"/>
            <ComboBox Width="150" ItemsSource="{Binding ImportKinds}" SelectedItem="{Binding SelectedImportKind}" />
        </StackPanel>

        <!-- Load / View Map File -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
            <Button Content="Load" Width="80" Command="{Binding LoadCommand}" Margin="0,0,5,0"/>
            <Button Content="View Map File" Width="120" Command="{Binding ViewMapCommand}" />
        </StackPanel>

        <!-- File Name & File Format -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
            <StackPanel Margin="0,0,20,0">
                <TextBlock Text="File Name"/>
                <TextBox Text="{Binding FileName}" Width="150" IsReadOnly="True"/>
            </StackPanel>
            <StackPanel>
                <TextBlock Text="File Format"/>
                <TextBox Text="{Binding FileFormat}" Width="150" IsReadOnly="True"/>
            </StackPanel>
        </StackPanel>

        <GroupBox BorderBrush="DarkGray" BorderThickness="3" Header="Updating" Margin="0,10,0,0" Padding="10">
            <!-- DataOut Path -->
            <StackPanel Orientation="Vertical">
                <StackPanel Orientation="Vertical">
                    <TextBlock Text="Data Out" />

                    <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                        <TextBox Text="{Binding DataOutPath}" Width="370" IsReadOnly="True"  Margin="10,0" />
                        <Button Content="Browse ..." Margin="5,0,0,0" Command="{Binding SelectDataOutPathCommand}" Width="70" />
                    </StackPanel>
                </StackPanel>

                <!-- Result Path + Use Result Path -->
                <StackPanel Margin="0,0,0,5" Orientation="Vertical">
                    <TextBlock Text="Result Path" />
                    <StackPanel Orientation="Horizontal" Margin="0,2,0,0">
                        <CheckBox Content="Using" Margin="10,0" IsChecked="{Binding UsingResultPath}" />
                        <Button Content="Set" Width="50" Margin="10,0" Command="{Binding SetResultPathCommand}"
                                CommandParameter="{Binding RelativeSource={RelativeSource AncestorType=Window}}"
                                IsEnabled="{Binding UsingResultPath}" />
                        <TextBox Text="{Binding ResultPath}" Width="370" IsReadOnly="True"
                                 IsEnabled="{Binding UsingResultPath}" />
                    </StackPanel>
                </StackPanel>

                <!-- Yield + Checkboxes -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,5">
                    <StackPanel>
                        <GroupBox BorderBrush="Black" BorderThickness="1" Header="Yield">
                            <StackPanel Orientation="Vertical">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="2,0,5,5">
                                    <TextBlock Text="Bin" Width="50" />
                                    <TextBox Text="{Binding YieldBinCode}" Width="50" />
                                </StackPanel>

                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="2,0,5,5">
                                    <TextBlock Text="%" Width="50" />
                                    <TextBox Text="{Binding YieldPercent}" Width="50" />
                                </StackPanel>

                                <Button Content="Decrease Yield" Margin="2,0" Command="{Binding SetResultPathCommand}"
                                        HorizontalAlignment="Left" Padding="5" />
                            </StackPanel>
                        </GroupBox>
                    </StackPanel>
                    <StackPanel Margin="20,0,0,0">
                        <CheckBox Content="In Verification" IsChecked="{Binding InVerification}" Margin="0,5" />
                        <CheckBox Content="Not Show Map" IsChecked="{Binding NotShowMap}" Margin="0,5" />
                        <Button Content="Stresse Test" Width="100" Command="{Binding StressTestCommand}" />
                    </StackPanel>
                </StackPanel>

                <!-- Update Button -->
                <Button Content="Update . . ." Height="30" FontWeight="Bold" Width="220" HorizontalAlignment="Left" IsEnabled="{Binding CanUpdate}" Margin="0,5,0,5" />
            </StackPanel>
        </GroupBox>
    </StackPanel>
</UserControl>
